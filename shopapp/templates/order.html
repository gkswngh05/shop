{% extends "master.html" %}
{% load static %}
{% block content %}
        <!-- Header-->
        <header class="bg-dark py-5">
            <div class="container px-4 px-lg-5 my-5">
                <div class="text-center text-white">
                    <h1 class="display-4 fw-bolder">Order</h1>
                    <p class="lead fw-normal text-white-50 mb-0">With this shop hompeage template</p>
                </div>
            </div>
        </header>
        <!-- Section-->
        <body>
            <section>
                <div>
                    <table class="table" style = "margin-top:100px;">
                        <thead>
                          <tr>
                            <th scope="col">
                            </th>
                            <th scope="col">상품</th>
                            <th scope="col">수량</th>
                            <th scope="col">단가</th>
                            <th scope="col">가격</th>
                            <th scope="col">배송비</th>
                          </tr>
                        </thead>
                        {% for item in items %}
                        <tbody>
                          <tr>
                            <th style= "padding:15px;" scope="row">
                            </th>
                            <td style= "padding:15px;">{{ item.name }}</td>
                            <td style= "padding:15px;">{{ item.amount }}</td>
                            <td style= "padding:15px;">{{ item.price }}</td>
                            <td style= "padding:15px;">{{ item.totalPrice }}</td>
                            <td style= "padding:15px;">{{ item.deliveryCost }}</td>
                          </tr>
                        </tbody>
                        {% endfor %}
                      </table>

                      <div>
                        <h6 style="text-align: right;margin-top:50px;">총 상품 가격 : {{cost.grandPrice}}원</h2>
                        <h6 style="text-align: right">총 배송비 : {{cost.grandDeliveryCost}}원</h2>  
                        <h4 style="text-align: right;">총 결제 금액 : {{cost.grandPrice|add:cost.grandDeliveryCost}}원</h2>
                    </div>

                <div>
                    <h1> # 배송지 정보</h1>
                    <form class="row g-3 needs-validation" method="POST">
                      {% csrf_token %}
                        <div class="col-md-4">
                          <label for="validationCustom02" class="form-label">이름</label>
                            {{form.receiverName}}
                          <div class="valid-feedback">
                            Looks good!
                          </div>
                        </div>
                        <div class="col-md-4">
                          <label for="validationCustomUsername" class="form-label">전화번호</label>
                          <div class="input-group has-validation">
                            <span class="input-group-text" id="inputGroupPrepend">☏</span>
                            {{form.receiverNumber}}
                            <div class="invalid-feedback">
                              Please choose a username.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <label for="validationCustom03" class="form-label">받는 주소</label>
                          {{form.receiverAddress}}
                          <div class="invalid-feedback">
                            Please provide a valid city.
                          </div>
                        </div>
                        
                        </div>
                        
                        <div class="col-12">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                            <label class="form-check-label" for="invalidCheck">
                              약관에 동의합니다.
                            </label>
                            <div class="invalid-feedback">
                              주문하려면 약관에 동의해야 합니다.
                            </div>
                          </div>
                        </div>
                        <div style="display: flex;justify-content: center;margin-top:30px;margin-bottom: 100px;">
                            <button onClick="location.href='{% url 'shopapp:index' %}'" type="button" class="btn btn-light">쇼핑 계속하기</button>
                            <button class="btn btn-dark">주문하기</button>
                        </div>
                      </form>
                </div>
            </section>
        </body>
{% endblock %}